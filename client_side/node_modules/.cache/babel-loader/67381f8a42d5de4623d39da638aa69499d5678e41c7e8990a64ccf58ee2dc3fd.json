{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import jwtDecode from'jwt-decode';import axios from'axios';import Cookies from'js-cookie';import Navbar from'components/Header/navbar';import Footer from'components/Footer/footer';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function StudentCoursesPage(){var navigate=useNavigate();function checkSignedIn(){try{var token=Cookies.get(\"token\");var payload=jwtDecode(token);var _role=payload.role;if(_role===\"STUDENT\"){return _role;}else{navigate(\"/signin\",{replace:true});}}catch(error){navigate(\"/signin\",{replace:true});}}var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),allCourses=_React$useState2[0],setAllCourses=_React$useState2[1];var role=checkSignedIn();React.useEffect(function(){function getAllCourses(){return _getAllCourses.apply(this,arguments);}function _getAllCourses(){_getAllCourses=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/courses');case 3:response=_context.sent;if(response.status===200){setAllCourses(response.data);}_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);// Handle the error as needed\nconsole.error('Error fetching courses:',_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return _getAllCourses.apply(this,arguments);}getAllCourses();},[]);function handleCourseNameClick(name){navigate(\"/courses/\".concat(name),{replace:true});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Course Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Course Description\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:allCourses.map(function(row,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){return handleCourseNameClick(row.name);},children:row.name}),/*#__PURE__*/_jsx(\"td\",{children:row.description})]},row._id);})})]})});}","map":{"version":3,"names":["React","jwtDecode","axios","Cookies","Navbar","Footer","useNavigate","jsx","_jsx","jsxs","_jsxs","StudentCoursesPage","navigate","checkSignedIn","token","get","payload","role","replace","error","_React$useState","useState","_React$useState2","_slicedToArray","allCourses","setAllCourses","useEffect","getAllCourses","_getAllCourses","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","status","data","t0","console","stop","handleCourseNameClick","name","concat","children","map","row","index","onClick","description","_id"],"sources":["/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/src/pages/StudentCoursesPage.js"],"sourcesContent":["import React from 'react';\nimport jwtDecode from 'jwt-decode';\nimport axios from 'axios';\nimport Cookies from 'js-cookie';\nimport Navbar from 'components/Header/navbar';\nimport Footer from 'components/Footer/footer';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function StudentCoursesPage() {\n\n    const navigate = useNavigate();\n\n    function checkSignedIn() {\n        try {\n            const token = Cookies.get(\"token\");\n            const payload = jwtDecode(token);\n            const role = payload.role;\n            if (role === \"STUDENT\") {\n                return role;\n            } else {\n                navigate(\"/signin\", {replace: true});\n            }\n        } catch (error) {\n            navigate(\"/signin\", {replace: true});\n        }\n    }\n    \n    const [allCourses, setAllCourses] = React.useState([]);\n    const role = checkSignedIn();\n\n    React.useEffect(() => {\n        async function getAllCourses() {\n          try {\n            const response = await axios.get('/api/courses');\n    \n            if (response.status === 200) {\n              setAllCourses(response.data);\n            }\n          } catch (error) {\n            // Handle the error as needed\n            console.error('Error fetching courses:', error);\n          }\n      }\n    \n        getAllCourses();\n      }, []);\n      \n    function handleCourseNameClick(name) {\n        navigate(`/courses/${name}`, {replace: true});\n    }\n\n    return (\n        <div>\n            \n            <table>\n                <thead>\n                    <tr>\n                        <th>S.No</th>\n                        <th>Course Name</th>\n                        <th>Course Description</th>\n                    </tr>  \n                </thead>\n                <tbody>\n                    {allCourses.map((row, index) => {\n                      return(<tr key={row._id}>\n                              {/* table rows */}\n                            <td>{index+1}</td>\n                            <td onClick={()=>handleCourseNameClick(row.name)}>{row.name}</td>\n                            <td>{row.description}</td>\n                            </tr>\n                          );\n                          })}\n                </tbody>\n            </table>\n            \n        </div>\n      );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}