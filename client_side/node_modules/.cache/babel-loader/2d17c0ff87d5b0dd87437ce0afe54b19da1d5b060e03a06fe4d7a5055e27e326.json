{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import\"../../../styles/StageOne.css\";import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function StageOne(_ref){var data=_ref.data,setData=_ref.setData;var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),maxPreferences=_useState4[0],setMaxPreferences=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),numStudentsPerProject=_useState6[0],setNumStudentsPerProject=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),deadline=_useState8[0],setDeadline=_useState8[1];var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(data.projects){_context.next=3;break;}console.log(\"Please add projects into the course\");return _context.abrupt(\"return\");case 3:if(!(maxPreferences&&numStudentsPerProject&&deadline)){_context.next=26;break;}_context.prev=4;_context.next=7;return axios.post(\"/api/courses/assign\",{name:data.name,maxPreferences:maxPreferences,maxStudentsPerProject:numStudentsPerProject,preferencesDeadline:deadline},{headers:{'Content-Type':'application/json'}});case 7:response=_context.sent;setData(response.data);handleClose();_context.next=24;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](4);_context.t1=_context.t0.response.status;_context.next=_context.t1===401?17:_context.t1===400?20:_context.t1===500?22:24;break;case 17:navigate(\"/signin\",{replace:true});handleClose();return _context.abrupt(\"break\",24);case 20:console.log(\"course couldnt be found\");return _context.abrupt(\"break\",24);case 22:console.log(\"internal error\");return _context.abrupt(\"break\",24);case 24:_context.next=27;break;case 26:console.log(\"missing course details\");case 27:case\"end\":return _context.stop();}},_callee,null,[[4,12]]);}));return function handleSubmit(){return _ref2.apply(this,arguments);};}();var handleClose=function handleClose(){// Reset form data and close the form\nsetMaxPreferences('');setNumStudentsPerProject('');setDeadline('');setOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setOpen(true);},children:\"Open Form\"}),open&&/*#__PURE__*/_jsx(\"div\",{className:\"form-popup\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Project Preferences\"}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"maxPreferences\",children:[\"Max Preferences for a Student:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"maxPreferences\",value:maxPreferences,onChange:function onChange(e){return setMaxPreferences(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"numStudentsPerProject\",children:[\"Maximum Number of Students per Project:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"numStudentsPerProject\",value:numStudentsPerProject,onChange:function onChange(e){return setNumStudentsPerProject(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"deadline\",children:[\"Deadline:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",id:\"deadline\",value:deadline,onChange:function onChange(e){return setDeadline(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,children:\"Close\"})]})]})})]});}","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","StageOne","_ref","data","setData","navigate","_useState","_useState2","_slicedToArray","open","setOpen","_useState3","_useState4","maxPreferences","setMaxPreferences","_useState5","_useState6","numStudentsPerProject","setNumStudentsPerProject","_useState7","_useState8","deadline","setDeadline","handleSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","projects","console","log","abrupt","post","name","maxStudentsPerProject","preferencesDeadline","headers","sent","handleClose","t0","t1","status","replace","stop","apply","arguments","children","onClick","className","htmlFor","type","id","value","onChange","e","target"],"sources":["/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/src/components/courses/stages/StageOne.js"],"sourcesContent":["import React, { useState } from 'react';\nimport \"../../../styles/StageOne.css\"\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nexport default function StageOne({data, setData}) {\n  const navigate = useNavigate();\n  const [open, setOpen] = useState(false);\n  const [maxPreferences, setMaxPreferences] = useState('');\n  const [numStudentsPerProject, setNumStudentsPerProject] = useState('');\n  const [deadline, setDeadline] = useState('');\n\n  const handleSubmit = async() => {\n    // Save data and close the form\n    if (!data.projects) {\n      console.log(\"Please add projects into the course\");\n      return;\n    }\n\n    if (maxPreferences && numStudentsPerProject && deadline) {\n      try {\n            const response = await axios.post(\"/api/courses/assign\", {name:data.name ,maxPreferences:maxPreferences ,maxStudentsPerProject:numStudentsPerProject, preferencesDeadline: deadline }, {headers: {'Content-Type': 'application/json',}});\n            setData(response.data);\n            handleClose();\n        } catch (err) {\n            switch(err.response.status) {\n                case 401:\n                    navigate(\"/signin\", {replace: true});\n                    handleClose();\n                    break;\n                case 400:\n                    console.log(\"course couldnt be found\");\n                    break;\n                case 500:\n                    console.log(\"internal error\");\n                    break;\n            }\n        }\n    } else {\n      console.log(\"missing course details\"); \n    }\n  };\n\n  const handleClose = () => {\n    // Reset form data and close the form\n    setMaxPreferences('');\n    setNumStudentsPerProject('');\n    setDeadline('');\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <button onClick={() => setOpen(true)}>Open Form</button>\n      {open && (\n        <div className=\"form-popup\">\n          <div className=\"form-container\">\n            <h2>Project Preferences</h2>\n            <label htmlFor=\"maxPreferences\">\n              Max Preferences for a Student:\n              <input\n                type=\"text\"\n                id=\"maxPreferences\"\n                value={maxPreferences}\n                onChange={(e) => setMaxPreferences(e.target.value)}\n              />\n            </label>\n            <label htmlFor=\"numStudentsPerProject\">\n              Maximum Number of Students per Project:\n              <input\n                type=\"text\"\n                id=\"numStudentsPerProject\"\n                value={numStudentsPerProject}\n                onChange={(e) => setNumStudentsPerProject(e.target.value)}\n              />\n            </label>\n            <label htmlFor=\"deadline\">\n              Deadline:\n              <input\n                type=\"date\"\n                id=\"deadline\"\n                value={deadline}\n                onChange={(e) => setDeadline(e.target.value)}\n              />\n            </label>\n            <div className=\"form-buttons\">\n              <button onClick={handleSubmit}>Save</button>\n              <button onClick={handleClose}>Close</button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}