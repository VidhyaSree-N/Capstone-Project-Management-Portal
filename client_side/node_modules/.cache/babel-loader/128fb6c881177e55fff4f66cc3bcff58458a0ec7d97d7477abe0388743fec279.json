{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import axios from'axios';import{useParams}from'react-router-dom';import{useNavigate}from'react-router-dom';import CoursesAssignment from\"../components/courses/CoursesAssignment\";import CoursesProject from\"../components/courses/CoursesProjects\";import CoursesStudents from\"../components/courses/CoursesStudents\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CoursePage(){var _useParams=useParams(),name=_useParams.name;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),component=_useState2[0],setComponent=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),course=_useState4[0],setCourse=_useState4[1];var navigate=useNavigate();useEffect(function(){function fetchCourse(){return _fetchCourse.apply(this,arguments);}function _fetchCourse(){_fetchCourse=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/api/courses/\".concat(name));case 3:response=_context.sent;if(response.status===200){setCourse(response.data);console.log(response.data);}_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);navigate(\"/signin\",{replace:true});case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return _fetchCourse.apply(this,arguments);}fetchCourse();},[name]);function renderComponent(course){console.log(\"Rendering component with course:\",course);switch(component){case 1:return/*#__PURE__*/_jsx(CoursesStudents,{course:course});case 2:return/*#__PURE__*/_jsx(CoursesProject,{course:course});case 3:return/*#__PURE__*/_jsx(CoursesAssignment,{course:course});default:return/*#__PURE__*/_jsx(CoursesStudents,{course:course});}}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setComponent(1);},children:\"Students\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setComponent(2);},children:\"Projects\"}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setComponent(3);},children:\"Assign Projects to Students\"})]}),course?renderComponent(course):/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"})]});}","map":{"version":3,"names":["React","useEffect","useState","axios","useParams","useNavigate","CoursesAssignment","CoursesProject","CoursesStudents","jsx","_jsx","jsxs","_jsxs","CoursePage","_useParams","name","_useState","_useState2","_slicedToArray","component","setComponent","_useState3","_useState4","course","setCourse","navigate","fetchCourse","_fetchCourse","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","sent","status","data","console","log","t0","replace","stop","renderComponent","children","onClick"],"sources":["/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/src/pages/CoursePage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useParams } from 'react-router-dom';\nimport { useNavigate } from 'react-router-dom';\nimport CoursesAssignment from \"../components/courses/CoursesAssignment\";\nimport CoursesProject from \"../components/courses/CoursesProjects\";\nimport CoursesStudents from \"../components/courses/CoursesStudents\";\n\nexport default function CoursePage() {\n  const { name } = useParams();\n  const [component, setComponent] = useState(1);\n  const [course, setCourse] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    async function fetchCourse() {\n      try {\n        const response = await axios.get(`/api/courses/${name}`);\n        if (response.status === 200) {\n          setCourse(response.data);\n          console.log(response.data);\n        }\n      } catch (error) {\n        console.log(error);\n        navigate(\"/signin\", {replace: true});\n      }\n    }\n\n    fetchCourse();\n  }, [name]);\n\n\n  function renderComponent(course) {\n    console.log(\"Rendering component with course:\", course);\n    switch (component) {\n      case 1:\n        return <CoursesStudents course={course} />;\n      case 2:\n        return <CoursesProject course={course} />;\n      case 3:\n        return <CoursesAssignment course={course} />;\n      default:\n        return <CoursesStudents course={course} />;\n    }\n  }\n  \n\n  return (\n    <div>\n      <div>\n        <div onClick={() => setComponent(1)}>Students</div>\n        <div onClick={() => setComponent(2)}>Projects</div>\n        <div onClick={() => setComponent(3)}>\n          Assign Projects to Students\n        </div>\n      </div>\n      {course ? renderComponent(course) : <div>Loading...</div>}\n    </div>\n  );\n  \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}