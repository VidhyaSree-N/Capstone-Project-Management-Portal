{"ast":null,"code":"var _jsxFileName = \"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/src/components/project/PendingProjects.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport ConfirmationPopup from 'components/forms/ConfimationPopup';\nimport PdfPreview from './PdfPreview';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction PendingProjects() {\n  _s();\n  const [projects, setProjects] = useState([]);\n  const navigate = useNavigate();\n  const [popup, setPopup] = useState(false);\n  const [selectedProject, setSelectedProject] = useState(\"\");\n  const [preview, setPreview] = useState(false);\n\n  // api call to get the table\n  React.useEffect(() => {\n    async function fetchTableData() {\n      try {\n        const response = await axios.get('/api/projects', {\n          params: {\n            pending: true\n          }\n        });\n        setProjects(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    fetchTableData();\n  }, []);\n  const handleClick = id => {\n    setPopup(true);\n    setSelectedProject(id);\n  };\n  const handleClose = () => {\n    setPreview(false);\n  };\n  const handleYes = async () => {\n    try {\n      console.log(selectedProject);\n      const response = await axios.delete('/api/project/' + selectedProject);\n      switch (response.status) {\n        case 200:\n          console.log(\"Deleted successfully\");\n          setPopup(false);\n          setProjects(projects.filter(p => p._id !== selectedProject));\n          setSelectedProject(\"\");\n          break;\n        case 401:\n          console.log(\"Unauthorized to delete\");\n          navigate(\"/signin\", {\n            replace: true\n          });\n          break;\n        case 404:\n          console.log(\"Cannot find the project\");\n          break;\n        case 500:\n          console.log(\"server error\");\n          break;\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const handleNo = event => {\n    setPopup(false);\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [popup && /*#__PURE__*/_jsxDEV(ConfirmationPopup, {\n      message: \"Are you sure you want to delete this item ?\",\n      onNo: handleNo,\n      onYes: handleYes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }, this), preview && /*#__PURE__*/_jsxDEV(PdfPreview, {\n      projectId: selectedProject,\n      onClose: handleClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"S.No\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Project Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Skills\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Created On\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Created By\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"Actions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: projects.map((row, index) => {\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: index\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              onClick: () => {\n                setSelectedProject(row._id);\n                setPreview(true);\n              },\n              children: row.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.skills\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.createdAt\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: row.createdBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleClick(row._id),\n                children: \"Delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 13\n            }, this)]\n          }, row._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 18\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n}\n_s(PendingProjects, \"dd+7UrVMDSbeJJ7eekaIIvtIC8s=\", false, function () {\n  return [useNavigate];\n});\n_c = PendingProjects;\nexport default PendingProjects;\nvar _c;\n$RefreshReg$(_c, \"PendingProjects\");","map":{"version":3,"names":["React","useState","useNavigate","axios","ConfirmationPopup","PdfPreview","jsxDEV","_jsxDEV","Fragment","_Fragment","PendingProjects","_s","projects","setProjects","navigate","popup","setPopup","selectedProject","setSelectedProject","preview","setPreview","useEffect","fetchTableData","response","get","params","pending","data","error","console","log","handleClick","id","handleClose","handleYes","delete","status","filter","p","_id","replace","handleNo","event","children","message","onNo","onYes","fileName","_jsxFileName","lineNumber","columnNumber","projectId","onClose","map","row","index","onClick","name","skills","createdAt","createdBy","_c","$RefreshReg$"],"sources":["/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/src/components/project/PendingProjects.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport axios from 'axios';\nimport ConfirmationPopup from 'components/forms/ConfimationPopup';\nimport PdfPreview from './PdfPreview';\n\nfunction PendingProjects() {\n\n  const [projects, setProjects] = useState([]);\n  const navigate = useNavigate();\n  const [popup, setPopup] = useState(false);\n  const [selectedProject, setSelectedProject] = useState(\"\");\n  const [preview ,setPreview] = useState(false);\n\n  // api call to get the table\n  React.useEffect(() => {\n    async function fetchTableData() {\n      try {\n        const response = await axios.get('/api/projects', {\n          params: {\n            pending: true\n          }\n        });\n        setProjects(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n    }\n      \n    fetchTableData();\n    }, []);\n  \n  const handleClick= (id) => {\n      setPopup(true);\n      setSelectedProject(id);\n  }\n\n  const handleClose = () => {\n    setPreview(false);\n  }\n\n  const handleYes = async() => {\n    try {\n      console.log(selectedProject)\n      const response = await axios.delete('/api/project/'+ selectedProject);\n      \n      switch (response.status) {\n        case (200):\n          console.log(\"Deleted successfully\");\n          setPopup(false);\n          setProjects(projects.filter(p => p._id !== selectedProject));\n          setSelectedProject(\"\");\n          break;\n        case (401):\n          console.log(\"Unauthorized to delete\");\n          navigate(\"/signin\" , {replace: true});\n          break;\n\n        case(404):\n          console.log(\"Cannot find the project\");\n          break;\n        \n        case(500):\n          console.log(\"server error\");\n          break;\n      }\n      \n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  const handleNo = (event) => {\n    setPopup(false);\n  }\n\n  return (\n    <>\n    {popup && <ConfirmationPopup message=\"Are you sure you want to delete this item ?\"  onNo={handleNo} onYes={handleYes}/>}\n    {preview && <PdfPreview projectId={selectedProject}  onClose={handleClose} />}\n    <table>\n      {/* table headers */}\n      <thead>\n        <tr>\n          <th>S.No</th>\n          <th>Project Name</th>\n          <th>Skills</th>\n          <th>Created On</th>\n          <th>Created By</th>\n          <th>Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        {projects.map((row, index) => {\n          return(<tr key={row._id}>\n            {/* table rows */}\n            <td>{index}</td>\n            <td onClick={() => {setSelectedProject(row._id); setPreview(true);}}>{row.name}</td>\n            <td>{row.skills}</td>\n            <td>{row.createdAt}</td>\n            <td>{row.createdBy}</td>\n            <td>\n              <button onClick={() => handleClick(row._id)}>Delete</button>\n            </td>\n          </tr>\n          );\n        })}\n      </tbody>\n    </table>\n    </>\n  );\n}\n\nexport default PendingProjects;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}