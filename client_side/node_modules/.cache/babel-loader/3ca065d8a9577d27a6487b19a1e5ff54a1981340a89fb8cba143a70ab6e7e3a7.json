{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState}from'react';import\"../../styles/InviteLink.css\";import axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreateCourseForm(_ref){var handleChange=_ref.handleChange;var navigate=useNavigate();var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),popup=_useState4[0],setPopup=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var handleNameChange=function handleNameChange(event){setName(event.target.value);};var handleDescriptionChange=function handleDescriptionChange(event){setDescription(event.target.value);};var handleClose=function handleClose(event){event.preventDefault();setPopup(false);};var handleSave=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(name&&description)){_context.next=28;break;}_context.prev=1;_context.next=4;return axios.post(\"/api/course\",{\"name\":name,\"description\":description},{headers:{'Content-Type':'application/json'},withCredentials:true});case 4:response=_context.sent;_context.t0=response.status;_context.next=_context.t0===201?8:_context.t0===400?12:_context.t0===409?14:_context.t0===401?16:19;break;case 8:console.log(\"course created successfully\");handleChange(response.data);setPopup(false);return _context.abrupt(\"break\",21);case 12:console.log(\"name and description cannot be missing\");return _context.abrupt(\"break\",21);case 14:console.log(\"course name already exists\");return _context.abrupt(\"break\",21);case 16:console.log(\"user unauthorized\");navigate(\"/signin\",{replace:true});return _context.abrupt(\"break\",21);case 19:console.log(\"server error\");return _context.abrupt(\"break\",21);case 21:_context.next=26;break;case 23:_context.prev=23;_context.t1=_context[\"catch\"](1);console.log(_context.t1);case 26:_context.next=29;break;case 28://do error handling;\nconsole.log(\"missing fields\");case 29:case\"end\":return _context.stop();}},_callee,null,[[1,23]]);}));return function handleSave(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setPopup(true);},children:\"Create New Course\"}),popup&&/*#__PURE__*/_jsxs(\"div\",{className:\"modal-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-button\",onClick:handleClose,children:\"x\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"Enter the course name and description here\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",required:true,value:name,onChange:handleNameChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Description:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"description\",value:description,required:true,onChange:handleDescriptionChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"button-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"save-button\",onClick:handleSave,children:\"Save\"})})]})]});}export default CreateCourseForm;","map":{"version":3,"names":["React","useState","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","CreateCourseForm","_ref","handleChange","navigate","_useState","_useState2","_slicedToArray","name","setName","_useState3","_useState4","popup","setPopup","_useState5","_useState6","description","setDescription","handleNameChange","event","target","value","handleDescriptionChange","handleClose","preventDefault","handleSave","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","post","headers","withCredentials","sent","t0","status","console","log","data","abrupt","replace","t1","stop","apply","arguments","children","onClick","className","type","id","required","onChange"],"sources":["/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/src/components/forms/CreateCourseFomr.js"],"sourcesContent":["import {React, useState} from 'react';\nimport \"../../styles/InviteLink.css\";\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\n\nfunction CreateCourseForm({handleChange}) {\n    const navigate = useNavigate();\n    const [name, setName] = useState('');\n    const [popup, setPopup] = useState(false);\n    const [description, setDescription] = useState(\"\");\n  \n    const handleNameChange = (event) => {\n      setName(event.target.value);\n    }\n  \n    const handleDescriptionChange = (event) => {\n      setDescription(event.target.value);\n    }\n\n    const handleClose = (event) => {\n        event.preventDefault();\n        setPopup(false)\n    }\n  \n    const handleSave = async() => {\n      if (name && description) {\n        try {\n          const response = await axios.post(\"/api/course\", {\"name\": name, \"description\": description}, {\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            withCredentials: true\n          });          \n          switch(response.status) {\n            case 201:\n              console.log(\"course created successfully\");\n              handleChange(response.data);\n              setPopup(false);\n              break;\n            case 400:\n                console.log(\"name and description cannot be missing\");\n                break;\n            case 409:\n              console.log(\"course name already exists\");\n              break;\n            case 401:\n              console.log(\"user unauthorized\");\n              navigate(\"/signin\", {replace: true});\n              break;\n            default:\n              console.log(\"server error\");\n              break;\n          }\n        } catch (err) {\n          console.log(err);\n        }\n      } else {\n        //do error handling;\n        console.log(\"missing fields\");\n      }\n    }\n  \n    return (\n      <div>\n        <button onClick={() => setPopup(true)}>Create New Course</button>\n\n        {popup && \n        (<div className=\"modal-content\" >\n          <button className=\"close-button\" onClick={handleClose}>x</button>\n          <h2>Enter the course name and description here</h2>\n          <div className=\"input-group\">\n            <label>Name:</label>\n            <input type=\"text\" id=\"name\" required value={name} onChange={handleNameChange} />\n          </div>\n          <div className=\"input-group\">\n            <label>Description:</label>\n            <input type=\"text\" id=\"description\" value={description} required onChange={handleDescriptionChange} />\n          </div>\n          <div className=\"button-group\">\n            <button className=\"save-button\" onClick={handleSave}>Save</button>\n          </div>\n        </div>\n        )}\n      </div>\n    );\n}\n  \n\nexport default CreateCourseForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}