{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import camsBlue from'../../assets/camsBlue.png';import'../../styles/formResetPasswordStyles.css';import axios from\"axios\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var FormResetPassword=function FormResetPassword(_ref){var changeContent=_ref.changeContent;var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isFocused=_useState2[0],setIsFocused=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hasValue=_useState4[0],setHasValue=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var handleFocus=function handleFocus(){setIsFocused(true);};var handleBlur=function handleBlur(e){setIsFocused(false);setHasValue(e.target.value!=='');};var handleBack=function handleBack(event){event.preventDefault();navigate(\"/signin\",{replace:true});};var handleContinue=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();if(!email){_context.next=25;break;}_context.prev=2;_context.next=5;return axios.post('/api/forgot-password',{email:email},{headers:{'Content-Type':'application/json'}});case 5:response=_context.sent;_context.t0=response.status;_context.next=_context.t0===200?9:_context.t0===404?12:_context.t0===400?14:_context.t0===500?16:18;break;case 9:console.log(\"succesful\");changeContent(2);return _context.abrupt(\"break\",18);case 12:console.log(\"Your email is not signed up\");return _context.abrupt(\"break\",18);case 14:console.log(\"Email is missing\");return _context.abrupt(\"break\",18);case 16:console.log(\"Email address doesnt exist\");return _context.abrupt(\"break\",18);case 18:_context.next=23;break;case 20:_context.prev=20;_context.t1=_context[\"catch\"](2);console.log(_context.t1);case 23:_context.next=26;break;case 25:console.log(\"Email cannot be empty\");case 26:case\"end\":return _context.stop();}},_callee,null,[[2,20]]);}));return function handleContinue(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"reset-pwd\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reset-pwd-container\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"reset-pwd-actualForm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reset-pwd-Logo-Help\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reset-pwd-logo\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"reset-pwd-camsBlue\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:camsBlue,alt:\"CAMS Logo\"}),\"  \"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"reset-pwd-help\",children:/*#__PURE__*/_jsx(\"div\",{className:\"reset-pwd-question\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"qSvg\",xmlns:\"http://www.w3.org/2000/svg\",width:\"27\",height:\"27\",viewBox:\"0 0 29 29\",children:/*#__PURE__*/_jsx(\"path\",{id:\"ic_help_outline_24px\",d:\"M15.05,25.2h2.9V22.3h-2.9ZM16.5,2A14.5,14.5,0,1,0,31,16.5,14.505,14.505,0,0,0,16.5,2Zm0,26.1A11.6,11.6,0,1,1,28.1,16.5,11.615,11.615,0,0,1,16.5,28.1Zm0-20.3a5.8,5.8,0,0,0-5.8,5.8h2.9a2.9,2.9,0,1,1,5.8,0c0,2.9-4.35,2.538-4.35,7.25h2.9c0-3.263,4.35-3.625,4.35-7.25A5.8,5.8,0,0,0,16.5,7.8Z\",transform:\"translate(-2 -2)\",fill:\"#fff\"})})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reset-password\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"reset-password-text-01\",children:\"Reset Password\"}),/*#__PURE__*/_jsx(\"p1\",{class:\"reset-password-text-02\",children:\"Enter the email associated with your account and we\\u2019ll send an email with instructions to reset your password.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"reset-pwd-input-fields\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"reset-pwd-email\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"reset-pwd-label \".concat(isFocused||hasValue?'focused':''),children:\"Email Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",className:\"reset-pwd-input \".concat(isFocused||hasValue?'focused':''),onFocus:handleFocus,onBlur:handleBlur,value:email,onChange:function onChange(event){setEmail(event.target.value);}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"reset-pwd-form-buttons\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"reset-pwd-button-01\",onClick:handleContinue,children:\"Send Instructions\"}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-pwd-button-02\",onClick:handleBack,children:\"Back to Sign in\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"plain-footer\"})]});};export default FormResetPassword;","map":{"version":3,"names":["React","useState","camsBlue","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","FormResetPassword","_ref","changeContent","navigate","_useState","_useState2","_slicedToArray","isFocused","setIsFocused","_useState3","_useState4","hasValue","setHasValue","_useState5","_useState6","email","setEmail","handleFocus","handleBlur","e","target","value","handleBack","event","preventDefault","replace","handleContinue","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","post","headers","sent","t0","status","console","log","abrupt","t1","stop","_x","apply","arguments","className","children","class","src","alt","xmlns","width","height","viewBox","id","d","transform","fill","htmlFor","concat","type","onFocus","onBlur","onChange","onClick"],"sources":["/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/src/components/forgot-my-password/formResetPassword.js"],"sourcesContent":["import React, { useState } from 'react';\nimport camsBlue from '../../assets/camsBlue.png';\nimport '../../styles/formResetPasswordStyles.css';\nimport axios from \"axios\";\nimport { useNavigate } from 'react-router-dom';\n\nconst FormResetPassword = ({changeContent}) => {\n\n    const navigate = useNavigate();\n    const [isFocused, setIsFocused] = useState(false);\n    const [hasValue, setHasValue] = useState(false);\n    const [email, setEmail] = useState(\"\");\n\n    const handleFocus = () => {\n        setIsFocused(true);\n    };\n\n    const handleBlur = (e) => {\n        setIsFocused(false);\n        setHasValue(e.target.value !== '');\n    };\n\n    const handleBack = (event) => {\n        event.preventDefault();\n        navigate(\"/signin\", {replace: true});\n    }\n\n    const handleContinue = async(event) => {\n        event.preventDefault();\n        if (email) {\n            try {\n                const response = await axios.post('/api/forgot-password', \n            {email:email}, {headers:{'Content-Type': 'application/json'}});\n            switch (response.status) {\n                case 200:\n                    console.log(\"succesful\");\n                    changeContent(2);\n                    break;\n                case 404:\n                    console.log(\"Your email is not signed up\");\n                    break;\n                case 400:\n                    console.log(\"Email is missing\");\n                    break;\n                case 500:\n                    console.log(\"Email address doesnt exist\");\n                    break;\n                }\n            } catch (err) {\n                console.log(err);\n            }  \n        } else {\n            console.log(\"Email cannot be empty\");\n        }\n    }\n\n  return (\n    <div className='reset-pwd'>\n        <div className='reset-pwd-container'>\n            <form className='reset-pwd-actualForm'>\n                        <div className='reset-pwd-Logo-Help'>\n                            \n                                {/* logo goes here */}\n                                <div className='reset-pwd-logo'>\n                                    <div class=\"reset-pwd-camsBlue\"> <img src={camsBlue} alt=\"CAMS Logo\" />  </div>\n                                </div>\n\n                                {/* Help icon goes here */}\n                                <div className='reset-pwd-help'>\n                                    <div className='reset-pwd-question'> \n                                        <svg className='qSvg' xmlns=\"http://www.w3.org/2000/svg\" width=\"27\" height=\"27\" viewBox=\"0 0 29 29\">\n                                            <path id=\"ic_help_outline_24px\" d=\"M15.05,25.2h2.9V22.3h-2.9ZM16.5,2A14.5,14.5,0,1,0,31,16.5,14.505,14.505,0,0,0,16.5,2Zm0,26.1A11.6,11.6,0,1,1,28.1,16.5,11.615,11.615,0,0,1,16.5,28.1Zm0-20.3a5.8,5.8,0,0,0-5.8,5.8h2.9a2.9,2.9,0,1,1,5.8,0c0,2.9-4.35,2.538-4.35,7.25h2.9c0-3.263,4.35-3.625,4.35-7.25A5.8,5.8,0,0,0,16.5,7.8Z\" transform=\"translate(-2 -2)\" fill=\"#fff\"/>\n                                        </svg>\n                                    </div>\n                                </div>\n\n                        </div>\n\n                        <div className='reset-password'> \n                                <span class='reset-password-text-01'>Reset Password</span>\n                                <p1   class='reset-password-text-02'>\n                                    Enter the email associated with your account and\n                                    weâ€™ll send an email with instructions to reset your password.\n                                </p1>\n                        </div>\n\n      \n                <div className='reset-pwd-input-fields'>\n                        <div className='reset-pwd-email'>\n\n                                <label htmlFor=\"email\" className={`reset-pwd-label ${isFocused || hasValue ? 'focused' : ''}`}>\n                                    Email Address\n                                </label>\n\n                                <input\n                                    type=\"email\"\n                                    id=\"email\"\n                                    className={`reset-pwd-input ${isFocused || hasValue ? 'focused' : ''}`}\n                                    onFocus={handleFocus}\n                                    onBlur={handleBlur}\n                                    value={email}\n                                    onChange={(event)=>{setEmail(event.target.value)}}\n                                />\n                        </div>\n\n                </div>\n\n                <div className='reset-pwd-form-buttons'>\n                        <button className='reset-pwd-button-01' onClick={handleContinue}>Send Instructions</button>\n                        <button className='reset-pwd-button-02' onClick={handleBack}>Back to Sign in</button>  \n                </div>                        \n                \n            </form>\n        </div>\n\n        <div className='plain-footer'>\n\n        </div>\n    </div>\n  )\n}\n\nexport default FormResetPassword"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}