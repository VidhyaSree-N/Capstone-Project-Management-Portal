{"ast":null,"code":"import _regeneratorRuntime from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";import{useNavigate}from\"react-router-dom\";import PublishProjectForm from\"components/forms/PublishProjectForm\";import ProjectPreview from\"../project/ProjectPreview\";import Navbar from\"components/Header/navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function ClientDashBoard(){var navigate=useNavigate();var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),projects=_React$useState2[0],setProjects=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open=_React$useState4[0],setOpen=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),projectId=_React$useState6[0],setProjectId=_React$useState6[1];React.useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/project\");case 2:response=_context.sent;_context.t0=response.status;_context.next=_context.t0===401?6:_context.t0===200?9:_context.t0===500?11:13;break;case 6:console.log(\"student cannot access\");navigate(\"/sigin\",{replace:true});return _context.abrupt(\"break\",13);case 9:setProjects(response.data);return _context.abrupt(\"break\",13);case 11:console.log(\"internal server error\");return _context.abrupt(\"break\",13);case 13:case\"end\":return _context.stop();}},_callee);})),[]);var onClose=function onClose(){setOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(PublishProjectForm,{}),open&&/*#__PURE__*/_jsx(ProjectPreview,{onClose:onClose,projectId:projectId}),/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S.No\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Project Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Created On\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:projects.map(function(row,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{onClick:function onClick(){return setProjectId(row._id);},children:row.name}),/*#__PURE__*/_jsx(\"td\",{children:row.createdOn})]},row._id);})})]})]});}","map":{"version":3,"names":["React","axios","useNavigate","PublishProjectForm","ProjectPreview","Navbar","jsx","_jsx","jsxs","_jsxs","ClientDashBoard","navigate","_React$useState","useState","_React$useState2","_slicedToArray","projects","setProjects","_React$useState3","_React$useState4","open","setOpen","_React$useState5","_React$useState6","projectId","setProjectId","useEffect","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","sent","t0","status","console","log","replace","abrupt","data","stop","onClose","children","map","row","index","onClick","_id","name","createdOn"],"sources":["/Users/cpms/Desktop/Capstone-Project-Management-System/client_side/src/components/Dashboard/ClientDashboard.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport PublishProjectForm from \"components/forms/PublishProjectForm\";\nimport ProjectPreview from \"../project/ProjectPreview\";\nimport Navbar from \"components/Header/navbar\";\n\nexport default function ClientDashBoard() {\n  const navigate = useNavigate();\n  const [projects, setProjects] = React.useState([]);\n  const [open, setOpen] = React.useState(false);\n  const [projectId, setProjectId] = React.useState(\"\");\n\n  React.useEffect(async () => {\n    const response = await axios.get(\"/api/project\");\n    switch (response.status) {\n      case 401:\n        console.log(\"student cannot access\");\n        navigate(\"/sigin\", { replace: true });\n        break;\n      case 200:\n        setProjects(response.data);\n        break;\n      case 500:\n        console.log(\"internal server error\");\n        break;\n    }\n  }, []);\n\n  const onClose = () => {\n    setOpen(false);\n  };\n\n  return (\n    <div>\n      <Navbar />\n      <PublishProjectForm />\n      {open && (\n        <ProjectPreview onClose={onClose} projectId={projectId} />\n      )}\n      <table>\n        <thead>\n          <tr>\n            <th>S.No</th>\n            <th>Project Name</th>\n            <th>Created On</th>\n          </tr>\n        </thead>\n        <tbody>\n          {projects.map((row, index) => {\n            return (\n              <tr key={row._id}>\n                <td>{index + 1}</td>\n                <td onClick={() => setProjectId(row._id)}>{row.name}</td>\n                <td>{row.createdOn}</td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}